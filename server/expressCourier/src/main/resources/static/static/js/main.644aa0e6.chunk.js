(window.webpackJsonpweb=window.webpackJsonpweb||[]).push([[0],{191:function(e,t,a){e.exports=a(373)},196:function(e,t,a){},272:function(e){e.exports=JSON.parse('{"GOOGLEMAPAPI_KEY":"AIzaSyDy8Lk4X8UW4RPuR8-570uKCdPXPBCSEnI"}')},371:function(e,t){},373:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),o=a.n(s),c=a(36),i=(a(196),a(17)),l=a(18),u=a(20),d=a(19),m=a(71),p=a(21),h=a(382),f=a(49),g=a(10),E=h.a.SubMenu,b=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={current:null},a.handleClick=function(e){console.log("click ",e),a.setState({current:e.key})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){if(this.props.currentUser)var e=r.a.createElement(E,{className:"login",key:"orderList",title:r.a.createElement("span",{className:"submenu-title-wrapper"},r.a.createElement(c.b,{to:"/orderList"},"Order Status"))},r.a.createElement(h.a.Item,{key:"logOut",onClick:this.props.logout},"Logout"));else e=r.a.createElement(h.a.Item,{key:"login"},r.a.createElement(c.b,{to:"/login"},"Login"));return r.a.createElement(h.a,{className:"nav-bar",onClick:this.handleClick,selectedKeys:[this.state.current],mode:"horizontal"},r.a.createElement(f.a,{href:"/"},r.a.createElement(g.a,{type:"github"})),r.a.createElement(h.a.Item,{key:"carinfo"},r.a.createElement(c.b,{to:"/carinfo"},"Car Info")),r.a.createElement(h.a.Item,{key:"droneinfo"},r.a.createElement(c.b,{to:"/droneinfo"},"Drone Info")),r.a.createElement("div",{className:"space"}),r.a.createElement(h.a.Item,{className:"help",key:"help"},r.a.createElement(c.b,{to:"/help"},"Help")),e)}}]),t}(n.Component),y=a(177),v=a.n(y),O=a(272).GOOGLEMAPAPI_KEY;console.log(O?"API key found.":'cannot find API_KEY, please create a credentials.json file under current folder and add {"API_KEY":YOUR_KEY}');var k=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Map",style:{height:"calc(100vh - 64px)",width:"100vw",maxWidth:"100%"}},r.a.createElement(v.a,{bootstrapURLKeys:{key:O},defaultCenter:this.props.center,defaultZoom:this.props.zoom}))}}]),t}(n.Component);k.defaultProps={center:{lat:37.78694970170928,lng:-122.47820136670445},zoom:13};var C=k,j=a(85),w=a.n(j),A=a(141),P=a(384),S=a(376),I=a(189),N=a(380),U=a(63),D=a.n(U),x=a(379),L="accessToken",T=function(e,t){var a=new Headers({"Content-Type":"application/json"});localStorage.getItem(L)&&a.append("Authorization","Bearer "+localStorage.getItem(L));var n={headers:a};return e=Object.assign({},n,e),fetch(e.url,e).then(function(e){return e.json().then(function(t){return e.ok?t:Promise.reject(t)})})},M=function(e){var t=new Headers({"Content-Type":"application/json"});localStorage.getItem(L)&&t.append("Authorization","Bearer "+localStorage.getItem(L));var a={headers:t};return e=Object.assign({},a,e),fetch(e.url,e).then(function(e){return e.text().then(function(t){return e.ok?t:Promise.reject(t)})})};function F(e){var t=e.split(","),a={address:"",city:"",state:"",country:""};return a.address=t[0].trim(),a.city=t[1].trim(),a.state=t[2].trim(),a.country=t[3].trim(),a}var Y=a(383),B=a(73),R=a(41),q=a(83),z=a(381),G=a(178);function _(e){var t=r.a.createElement(g.a,{type:"loading-3-quarters",style:{fontSize:30},spin:!0});return r.a.createElement(G.a,{indicator:t,style:{display:"block",textAlign:"center",marginTop:30}})}var H=x.a.Text,K=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={value:"car",carPrice:0,dronePrice:0,loading:!0},a.onRadioButtonChange=function(e){console.log("radio checked",e.target.value),a.setState({value:e.target.value}),a.props.droneTypeSelection("car"!==a.state.value)},a.componentDidMount=function(){var e,t,n;e=a.props.destinationAddress,t=a.props.pickUpAddress,n=function(e){a.setState({carPrice:e[0].price,dronePrice:e[1].price,loading:!1})},fetch("/price?dest="+e+"&orig="+t).then(function(e){return e.json()}).then(function(e){return n(e)})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={display:"block",height:"30px",lineHeight:"30px"};return this.state.loading?r.a.createElement(_,null):r.a.createElement("div",{className:"radio_button"},r.a.createElement(Y.a.Group,{onChange:this.onRadioButtonChange,value:this.state.value},r.a.createElement(B.a,{className:"row-selection",gutter:30},r.a.createElement(R.a,{span:8},r.a.createElement(q.a,{title:"Autonomous electrical cars are slower but have no size and weight restriction;\r drones are faster but can only deliver goods within 10 pounds."},r.a.createElement(H,{strong:!0}," type? "))),r.a.createElement(R.a,{span:8},r.a.createElement(H,{strong:!0}," price ")),r.a.createElement(R.a,{span:8},r.a.createElement(H,{strong:!0}," estimated delivery "))),r.a.createElement(B.a,{className:"row-selection",gutter:30},r.a.createElement(R.a,{span:8},r.a.createElement(Y.a,{className:"radio",style:e,value:"car"},"Use Car")),r.a.createElement(R.a,{span:8},r.a.createElement(z.a,{className:"price",prefix:"$",value:this.state.carPrice,precision:2})),r.a.createElement(R.a,{span:8},r.a.createElement(z.a,{className:"time",suffix:"AM",value:"11:24",precision:2}))),r.a.createElement(B.a,{className:"row-selection",gutter:30},r.a.createElement(R.a,{span:8},r.a.createElement(Y.a,{className:"radio",style:e,value:"drone"},"Use Drone")),r.a.createElement(R.a,{span:8},r.a.createElement(z.a,{className:"price",prefix:"$",value:this.state.dronePrice,precision:2})),r.a.createElement(R.a,{span:8},r.a.createElement(z.a,{className:"time",suffix:"PM",value:"5:23",precision:2})))))}}]),t}(n.Component),W=x.a.Title,J=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={type:"car",displayModal:!1},a.handlePickUpAddressChange=function(e){a.setState({pickUpInput:e})},a.handlePickUpAddressSelect=function(){var e=Object(A.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({pickUpAddress:t});case 2:a.setState({pickUpInput:t}),Object(U.geocodeByAddress)(t).then(function(e){return Object(U.getLatLng)(e[0])}).then(function(e){return console.log("Success",e)}).catch(function(e){return console.error("Error",e)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleDestinationAddressChange=function(e){a.setState({destinationInput:e})},a.handleDestinationAddressSelect=function(){var e=Object(A.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({destinationAddress:t});case 2:a.setState({destinationInput:t}),Object(U.geocodeByAddress)(t).then(function(e){return Object(U.getLatLng)(e[0])}).then(function(e){return console.log("Success",e)}).catch(function(e){return console.error("Error",e)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handlePickUpClear=function(e){a.setState({pickUpAddress:"",pickUpInput:""})},a.handleDestinationClear=function(e){a.setState({destinationAddress:"",destinationInput:""})},a.handleCheckAddress=function(e){return"San Francisco"===e.city},a.handleCheckout=function(e){if(!a.props.handleCheckUser())return alert("You haven't log in yet!"),void a.setState({displayModal:!1});(function(e){return M({url:"/checkout",method:"PUT",body:JSON.stringify(e)})})({shippingAddress:F(a.state.destinationAddress),billingAddress:F(a.state.pickUpAddress),pickUpAddress:F(a.state.pickUpAddress),type:a.state.type}).then(function(){P.a.success({message:"Express courier",description:"Thank you! Your order has put."})}).catch(function(e){P.a.error({message:"Express Courier",description:e.message||"Sorry! Something went wrong. Please try again!"})})},a.handleGetPrice=function(e){if(a.state.destinationAddress)if(a.state.pickUpAddress){var t={shippingAddress:F(a.state.destinationAddress),billingAddress:F(a.state.pickUpAddress),pickUpAddress:F(a.state.pickUpAddress),type:a.state.type};a.handleCheckAddress(t.shippingAddress)&&a.handleCheckAddress(t.pickUpAddress)?a.setState({displayModal:!0}):P.a.error({message:"Express Courier",description:"Sorry, the delivery service is only in San Francisco."})}else P.a.error({message:"Express Courier",description:"Please specify the origin pickup address."});else P.a.error({message:"Express Courier",description:"Please specify the destination"})},a.handleCloseModal=function(){a.setState({displayModal:!1})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleDroneType",value:function(e){this.setState({type:e?"car":"drone"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"infoCard"},r.a.createElement(S.a,{className:"info-card",bordered:!1},r.a.createElement(W,{level:2},"Request a Delivery Now"),r.a.createElement("div",{className:"autocomplete"},r.a.createElement("div",{className:"PickUp"},r.a.createElement(D.a,{value:this.state.pickUpInput,onChange:this.handlePickUpAddressChange,onSelect:this.handlePickUpAddressSelect},function(t){var a=t.getInputProps,n=t.suggestions,s=t.getSuggestionItemProps;t.loading;return r.a.createElement("div",{className:"autocomplete-input"},r.a.createElement(I.a,Object.assign({suffix:r.a.createElement("div",null,r.a.createElement(g.a,{type:"close",onClick:e.handlePickUpClear}))},a({placeholder:"Add Pick Up Location",className:"location-search-input",autoFocus:!0}))),r.a.createElement(h.a,{className:"autocomplete-dropdown-container"},n.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement(h.a.Item,s(e,{className:t,style:a}),r.a.createElement("span",null,e.description))})))}),r.a.createElement(f.a,{type:"primary",icon:"compass"})),r.a.createElement("div",{className:"Destination"},r.a.createElement(D.a,{value:this.state.destinationInput,onChange:this.handleDestinationAddressChange,onSelect:this.handleDestinationAddressSelect},function(t){var a=t.getInputProps,n=t.suggestions,s=t.getSuggestionItemProps;t.loading;return r.a.createElement("div",{className:"autocomplete-input"},r.a.createElement(I.a,Object.assign({suffix:r.a.createElement("div",null,r.a.createElement(g.a,{type:"close",onClick:e.handleDestinationClear}))},a({placeholder:"Add Your Destination",className:"location-search-input",autoFocus:!0}))),r.a.createElement(h.a,{className:"autocomplete-dropdown-container"},n.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement(h.a.Item,s(e,{className:t,style:a}),r.a.createElement("span",null,e.description))})))}),r.a.createElement(f.a,{type:"primary",icon:"enter"}))),r.a.createElement("br",null),r.a.createElement("div",{className:"checkout"},r.a.createElement(f.a,{type:"primary",onClick:this.handleGetPrice},"Get Price"))),this.state.displayModal?r.a.createElement(N.a,{title:"Please select a delivery option",visible:!0,onCancel:this.handleCloseModal,onOk:this.handleCheckout},r.a.createElement(K,{pickUpAddress:this.state.pickUpAddress,destinationAddress:this.state.destinationAddress,droneTypeSelection:this.handleDroneType.bind(this)})):null)}}]),t}(n.Component),$=a(378),V=a(385),X=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){console.log("Received values of form: ",t),delete t.remember,console.log(t);Object.assign({},t);(n=t,T({url:"/signin",method:"POST",body:JSON.stringify(n)})).then(function(e){localStorage.setItem(L,e.accessToken),a.props.onLogin()}).catch(function(e){401===e.status?P.a.error({message:"Express Courier",description:"Your Username or Password is incorrect. Please try again!"}):P.a.error({message:"Express Courier",description:e.message||"Sorry! Something went wrong. Please try again!"})})}var n})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login-form"},r.a.createElement("div",{className:"form-title"},r.a.createElement("h1",null,"User Login")),r.a.createElement($.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement($.a.Item,null,e("nameOrEmail",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(I.a,{prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username or Email"}))),r.a.createElement($.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(I.a,{prefix:r.a.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement($.a.Item,null,e("remember",{valuePropName:"checked",initialValue:!0})(r.a.createElement(V.a,null,"Remember me")),r.a.createElement("a",{className:"login-form-forgot",href:"www.google.com"},"Forgot password"),r.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"),"Or ",r.a.createElement(c.b,{to:"/register"},"register now!")))))}}]),t}(n.Component),Z=$.a.create({name:"login"})(X),Q=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"MainPage"},r.a.createElement(C,{className:"Map"}),r.a.createElement(J,{handleCheckUser:this.props.handleCheckUser}))}}]),t}(n.Component),ee=a(57),te=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"carinfo"},r.a.createElement("h1",null,"At Car Info"),r.a.createElement("h1",null,"At Car Info"))}}]),t}(n.Component),ae=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"droneinfo"},r.a.createElement("h1",null,"At Drone Info"),r.a.createElement("h1",null,"At Drone Info"))}}]),t}(n.Component),ne=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"helpinfo"},r.a.createElement("h1",null,"At Help Info"),r.a.createElement("h1",null,"At Help Info"))}}]),t}(n.Component),re=a(377),se=a(374),oe=a(187),ce=a.n(oe),ie=a(188),le=a.n(ie),ue=a(386),de=function(e){return r.a.createElement("div",{className:"orderDetail"},r.a.createElement(ue.a,{title:"Order Detail",bordered:!0,column:{xxl:1,xl:1,lg:1,md:1,sm:1,xs:1}},r.a.createElement(ue.a.Item,{label:"Product Id"}),r.a.createElement(ue.a.Item,{label:"Type(Car/Drone)"}),r.a.createElement(ue.a.Item,{label:"Data & Time"}),r.a.createElement(ue.a.Item,{label:"Amount"}),r.a.createElement(ue.a.Item,{label:"From Where"}),r.a.createElement(ue.a.Item,{label:"To Where"}),r.a.createElement(ue.a.Item,{label:"Card Info"}),r.a.createElement(ue.a.Item,{label:"Product Description"})),r.a.createElement(f.a,{className:"btn",type:"primary",onClick:e.onClose},"close"))},me=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={showOrderDetail:!0},a.closeChild=function(){a.props.handleClose(!1)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.showOrderDetail&&r.a.createElement(de,{onClose:this.closeChild}))}}]),t}(n.Component),pe=x.a.Title,he=[{title:"Product ID: 001",description:"The product is babababa"},{title:"Product ID: 002",description:"The product is babababa"},{title:"Product ID: 003",description:"The product is babababa"},{title:"Product ID: 004",description:"The product is babababa"}],fe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,hasMore:!0,showOrderDetail:!1},a.fetchData=function(e){ce()({type:"json",method:"get",contentType:"application/json",success:function(t){e(t)}})},a.handleInfiniteOnLoad=function(){var e=a.state.data;a.setState({loading:!0}),a.fetchData(function(t){e=e.concat(t.results),a.setState({data:e,loading:!1})})},a._showOrderDetail=function(e){console.log("showOrderDetail"),a.setState({showOrderDetail:e})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchData(function(t){e.setState({data:t.results})})}},{key:"setAvatar",value:function(e){return e.type?"car"===e.type?"car":"cloud-upload":"car"}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"orderList"},r.a.createElement("div",{className:"orderListStyle"},r.a.createElement(pe,null," Orders "),r.a.createElement(le.a,{initialLoad:!1,pageStart:0,loadMore:this.handleInfiniteOnLoad,hasMore:!this.state.loading&&this.state.hasMore,useWindow:!1},r.a.createElement(re.a,{itemLayout:"horizontal",dataSource:he,renderItem:function(t){return r.a.createElement(re.a.Item,null,r.a.createElement(re.a.Item.Meta,{avatar:r.a.createElement(se.a,{style:{backgroundColor:"#87d068"},icon:e.setAvatar(t)}),title:t.title,description:t.description}),r.a.createElement("div",null,r.a.createElement(f.a,{type:"primary",onClick:e._showOrderDetail.bind(null,!0)},"Detail"),e.state.showOrderDetail?r.a.createElement(me,{handleClose:e._showOrderDetail}):null))}},this.state.loading&&this.state.hasMore&&r.a.createElement("div",{className:"demo-loading-container"},r.a.createElement(G.a,null))))))}}]),t}(n.Component),ge=a(375),Ee=a(56),be=a(387),ye=(Ee.a.Option,be.a.Option,function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1,name:"",email:"",password:""},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){var n;e||(console.log("Received values of form: ",t),t={email:t.email,password:t.password,name:t.nickname},(n=t,T({url:"/signup",method:"POST",body:JSON.stringify(n)})).then(function(){P.a.success({message:"Express Courier",description:"Thank you! You're successfully registered. Please Login to continue!"}),a.props.history.push("/login")}).catch(function(e){P.a.error({message:"Express Courier",description:e.message||"Sorry! Something went wrong. Please try again!"})}))})},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;this.state.autoCompleteResult;return r.a.createElement($.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),r.a.createElement($.a.Item,{label:"E-mail"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(I.a,null))),r.a.createElement($.a.Item,{label:"Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(I.a.Password,null))),r.a.createElement($.a.Item,{label:"Confirm Password",hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(I.a.Password,{onBlur:this.handleConfirmBlur}))),r.a.createElement($.a.Item,{label:r.a.createElement("span",null,"Name\xa0",r.a.createElement(q.a,{title:"What do you want others to call you?"},r.a.createElement(g.a,{type:"question-circle-o"})))},e("nickname",{rules:[{required:!0,message:"Please input your nickname!",whitespace:!0}]})(r.a.createElement(I.a,null))),r.a.createElement($.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(f.a,{type:"primary",htmlType:"submit"},"Register")))}}]),t}(r.a.Component)),ve=Object(ee.g)($.a.create({name:"register"})(ye));var Oe=function(){return r.a.createElement("div",{style:{width:"600px",margin:"0 auto",paddingTop:"40px"}},r.a.createElement(ve,null))},ke=ge.a.Header,Ce=ge.a.Content,je=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).checkCurrentUser=function(){return null!==a.state.currentUser},a.state={currentUser:null,isAuthenticated:!1,isLoading:!1},a.handleLogout=a.handleLogout.bind(Object(m.a)(a)),a.loadCurrentUser=a.loadCurrentUser.bind(Object(m.a)(a)),a.handleLogin=a.handleLogin.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"getCurrentUser",value:function(){return localStorage.getItem(L)?T({url:"/ec/user/me",method:"GET"}):Promise.reject("No access token set.")}},{key:"loadCurrentUser",value:function(){var e=this;this.setState({isLoading:!0}),this.getCurrentUser().then(function(t){e.setState({currentUser:t,isAuthenticated:!0,isLoading:!1})}).catch(function(t){e.setState({isLoading:!1})})}},{key:"componentDidMount",value:function(){this.loadCurrentUser()}},{key:"handleLogout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"You're successfully logged out.";localStorage.removeItem(L),this.setState({currentUser:null,isAuthenticated:!1}),this.props.history.push(e),P.a[t]({message:"Express Courier",description:a})}},{key:"handleLogin",value:function(){P.a.success({message:"Express Courier",description:"You're successfully logged in."}),this.loadCurrentUser(),this.props.history.push("/")}},{key:"render",value:function(){var e=this;return r.a.createElement(ge.a,{className:"layout"},r.a.createElement(ke,{style:{padding:0}},r.a.createElement(b,{currentUser:this.state.currentUser,logout:this.handleLogout})),r.a.createElement(Ce,null,r.a.createElement("div",{style:{minHeight:"300px"}},r.a.createElement(ee.d,null,r.a.createElement(ee.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(Q,Object.assign({handleCheckUser:e.checkCurrentUser},t))}}),r.a.createElement(ee.b,{path:"/home",render:function(t){return r.a.createElement(Q,Object.assign({handleCheckUser:e.checkCurrentUser},t))}}),r.a.createElement(ee.b,{path:"/carinfo",component:te}),r.a.createElement(ee.b,{path:"/droneinfo",component:ae}),r.a.createElement(ee.b,{path:"/help",component:ne}),r.a.createElement(ee.b,{path:"/orderList",component:fe}),r.a.createElement(ee.b,{path:"/login",render:function(t){return r.a.createElement(Z,Object.assign({onLogin:e.handleLogin},t))}}),r.a.createElement(ee.b,{path:"/register",component:Oe}),r.a.createElement(ee.a,{to:"/"})))))}}]),t}(n.Component),we=Object(ee.g)(je);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(c.a,null,r.a.createElement(we,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[191,1,2]]]);
//# sourceMappingURL=main.644aa0e6.chunk.js.map